@using PicoPlus.Application.Abstractions.UserPanel

@inject IPersianDateService DateService

@* Single statistic card *@

<div class="stat-card-dark @GradientClass fade-in" style="animation-delay: @AnimationDelay">
    <div class="stat-info">
        <h6 class="stat-label-dark">@Label</h6>
        <h2 class="stat-value-dark">@FormattedValue</h2>
        <small class="stat-unit-dark">@Unit</small>
    </div>
    <div class="stat-icon-dark @GradientClass">
        <i class="bi @IconClass"></i>
    </div>
</div>

@code {
    /// <summary>
    /// Card label
    /// </summary>
    [Parameter, EditorRequired]
    public string Label { get; set; } = string.Empty;

    /// <summary>
    /// Numeric value to display
    /// </summary>
    [Parameter]
    public decimal Value { get; set; }

    /// <summary>
    /// Unit label (e.g., "?????", "???")
    /// </summary>
    [Parameter]
    public string Unit { get; set; } = string.Empty;

    /// <summary>
    /// Bootstrap icon class
    /// </summary>
    [Parameter, EditorRequired]
    public string IconClass { get; set; } = string.Empty;

    /// <summary>
    /// Gradient class (e.g., "bg-gradient-blue")
    /// </summary>
    [Parameter]
    public string GradientClass { get; set; } = "bg-gradient-blue";

    /// <summary>
    /// CSS animation delay
    /// </summary>
    [Parameter]
    public string AnimationDelay { get; set; } = "0s";

    private string FormattedValue => DateService.FormatNumber(Value);
}
