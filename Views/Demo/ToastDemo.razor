@page "/toast-demo"
@using PicoPlus.Infrastructure.Services
@inject PicoPlus.Infrastructure.Services.IDialogService DialogService

<PageTitle>Toast Demo</PageTitle>

<div class="container mt-5" dir="rtl">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="bi bi-bell me-2"></i>
                        ???? ????????? Toast
                    </h4>
                </div>
                <div class="card-body">
                    <p class="text-muted">
                        ???? ??? ????? ????? toast notification? ??? ????? ????????? ??? ???? ????:
                    </p>

                    <div class="d-grid gap-3">
                        <button class="btn btn-success btn-lg" @onclick="ShowSuccessToast">
                            <i class="bi bi-check-circle me-2"></i>
                            ????? ????? ????
                        </button>

                        <button class="btn btn-danger btn-lg" @onclick="ShowErrorToast">
                            <i class="bi bi-x-circle me-2"></i>
                            ????? ????? ???
                        </button>

                        <button class="btn btn-info btn-lg" @onclick="ShowInfoToast">
                            <i class="bi bi-info-circle me-2"></i>
                            ????? ????? ?????
                        </button>

                        <button class="btn btn-warning btn-lg" @onclick="ShowWarningToast">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            ????? ????? ?????
                        </button>

                        <hr />

                        <button class="btn btn-secondary btn-lg" @onclick="ShowMultipleToasts">
                            <i class="bi bi-stack me-2"></i>
                            ????? ??? ?????
                        </button>

                        <button class="btn btn-outline-primary" @onclick="@(() => NavigationManager.NavigateTo("/"))">
                            <i class="bi bi-house me-2"></i>
                            ?????? ?? ???? ????
                        </button>
                    </div>
                </div>
            </div>

            <div class="mt-4">
                <div class="alert alert-info">
                    <h6><i class="bi bi-info-circle me-2"></i>????:</h6>
                    <ul class="mb-0">
                        <li>????????? ???? ??? ?? 4 ????? ??? ???????</li>
                        <li>????????? ???? ??? ?? 6 ????? ??? ???????</li>
                        <li>????????? ????? ? ??? ??? ?? 5 ????? ??? ???????</li>
                        <li>????????? ?? ???? ???? ????? ??? ????????</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [Inject] private NavigationManager NavigationManager { get; set; } = default!;

    private async Task ShowSuccessToast()
    {
        await DialogService.ShowSuccessAsync(
            "????? ????",
            "????? ???? ????? ????? ???. ????? ?????? ?? ????? ????? ??!");
    }

    private async Task ShowErrorToast()
    {
        await DialogService.ShowErrorAsync(
            "????? ???",
            "????? ???? ???? ????? ????? ???. ????? ????? ?????? ????? ????.");
    }

    private async Task ShowInfoToast()
    {
        await DialogService.ShowInfoAsync(
            "????? ????????",
            "????? ???? ??????? ????? ???. ???? ????? ????? ???!");
    }

    private async Task ShowWarningToast()
    {
        await DialogService.ShowWarningAsync(
            "????? ?????",
            "????? ???? ????? ????? ????? ????? ???. ????? ????? ??? ????!");
    }

    private async Task ShowMultipleToasts()
    {
        await DialogService.ShowInfoAsync("????? 1", "????? ????? ????? ??????");
        await Task.Delay(500);
        await DialogService.ShowSuccessAsync("????? 2", "????? ????? ????? ??????");
        await Task.Delay(500);
        await DialogService.ShowWarningAsync("????? 3", "????? ????? ????? ??????");
        await Task.Delay(500);
        await DialogService.ShowErrorAsync("????? 4", "??????? ????? ????? ??????");
    }
}
